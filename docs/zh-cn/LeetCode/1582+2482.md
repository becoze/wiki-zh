# 1582 + 2482 ï¼ˆäºŒç»´çŸ©é˜µçš„ä¸€ç»´æŠ½è±¡åŒ–ï¼‰

ğŸ’¡ äºŒç»´æŠ½è±¡æˆä¸€ç»´çš„ä½œç”¨å½“ç„¶æ˜¯é™ä½å¤æ‚åº¦ã€‚

![image 0](image/1852+2482.abstract.png)

> é—®é¢˜é“¾æ¥: [LeetCode - 1582. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ç‰¹æ®Šä½ç½® (ç®€å•)](https://leetcode.com/problems/special-positions-in-a-binary-matrix/)
>
> ç›¸å…³æ ‡ç­¾ï¼šè´ªå¿ƒ 2ç»´æ•°ç»„

> é—®é¢˜é“¾æ¥: [LeetCode - 2482. è¡Œå’Œåˆ—ä¸­ä¸€å’Œé›¶çš„å·®å€¼ (ä¸­ç­‰)](https://leetcode.cn/problems/difference-between-ones-and-zeros-in-row-and-column/)
>
> ç›¸å…³æ ‡ç­¾ï¼šæ•°ç»„ çŸ©é˜µ



# 1582. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ç‰¹æ®Šä½ç½®

## é—®é¢˜

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `rows x cols` çš„çŸ©é˜µ `mat`ï¼Œå…¶ä¸­ `mat[i][j]` æ˜¯ `0` æˆ– `1`ï¼Œè¯·è¿”å› **çŸ©é˜µ `mat` ä¸­ç‰¹æ®Šä½ç½®çš„æ•°ç›®** ã€‚

**ç‰¹æ®Šä½ç½®** å®šä¹‰ï¼šå¦‚æœ `mat[i][j] == 1` å¹¶ä¸”ç¬¬ `i` è¡Œå’Œç¬¬ `j` åˆ—ä¸­çš„æ‰€æœ‰å…¶ä»–å…ƒç´ å‡ä¸º `0`ï¼ˆè¡Œå’Œåˆ—çš„ä¸‹æ ‡å‡ **ä» 0 å¼€å§‹** ï¼‰ï¼Œåˆ™ä½ç½® `(i, j)` è¢«ç§°ä¸ºç‰¹æ®Šä½ç½®ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](https://assets.leetcode.com/uploads/2021/12/23/special1.jpg)

```
è¾“å…¥ï¼šmat = [[1,0,0],
            [0,0,1],
            [1,0,0]]
è¾“å‡ºï¼š1
è§£é‡Šï¼š(1,2) æ˜¯ä¸€ä¸ªç‰¹æ®Šä½ç½®ï¼Œå› ä¸º mat[1][2] == 1 ä¸”æ‰€å¤„çš„è¡Œå’Œåˆ—ä¸Šæ‰€æœ‰å…¶ä»–å…ƒç´ éƒ½æ˜¯ 0
```

**ç¤ºä¾‹ 2ï¼š**

![img](https://assets.leetcode.com/uploads/2021/12/24/special-grid.jpg)

```
è¾“å…¥ï¼šmat = [[1,0,0],
            [0,1,0],
            [0,0,1]]
è¾“å‡ºï¼š3
è§£é‡Šï¼š(0,0), (1,1) å’Œ (2,2) éƒ½æ˜¯ç‰¹æ®Šä½ç½®
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šmat = [[0,0,0,1],
            [1,0,0,0],
            [0,1,1,0],
            [0,0,0,0]]
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šmat = [[0,0,0,0,0],
            [1,0,0,0,0],
            [0,1,0,0,0],
            [0,0,1,0,0],
            [0,0,0,1,1]]
è¾“å‡ºï¼š3
```

> é—®é¢˜é“¾æ¥: [LeetCode - 1582. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ç‰¹æ®Šä½ç½® (ç®€å•)](https://leetcode.com/problems/special-positions-in-a-binary-matrix/)
>
> ç›¸å…³æ ‡ç­¾ï¼šè´ªå¿ƒ 2ç»´æ•°ç»„



## æ€è·¯

ç†è§£é¢˜ç›®ï¼š`mat[i][j] == 1` å¹¶ä¸”ç¬¬ `i` è¡Œå’Œç¬¬ `j` åˆ—ä¸­çš„æ‰€æœ‰å…¶ä»–å…ƒç´ å‡ä¸º `0` å¯ä»¥åˆ†è§£ä¸º

* "ä½ç½® `(i, j)` çš„å½“å‰"è¡Œ"æ‰€æœ‰å…¶ä»–å…ƒç´ å‡ä¸º `0` " å¯ä»¥ç†è§£ä¸ºæ˜¯æ•´è¡Œåªæœ‰ä¸€ä¸ª1ã€‚
* åŠ ä¸Š"ä½ç½® `(i, j)` çš„å½“å‰"åˆ—"æ‰€æœ‰å…¶ä»–å…ƒç´ å‡ä¸º `0` " 

æ‰€ä»¥é¢˜ç›®å¯ä»¥ç†è§£ä¸ºå½“å‰æ ¼å­ä¸º1æ—¶ï¼ŒåŒäº‹æ•´è¡Œåªæœ‰ä¸€ä¸ª1ï¼Œä¸”æ•´åˆ—ä¹Ÿåªæœ‰ä¸€ä¸ª1ã€‚æ‰èƒ½ç§°ä¸ºç‰¹æ®Šä½ç½®ã€‚

> æœ‰ç‚¹ç±»ä¼¼äºæ•°ç‹¬



## å…³é”®

ğŸ’¡ äºŒç»´çŸ©é˜µçš„ä¸€ç»´æŠ½è±¡åŒ–

å…³é”®è¯ "æ•´è¡Œ/åˆ—åªæœ‰ä¸€ä¸ª1"ã€‚å¯ä»¥é€šè¿‡æŠŠæ•´è¡Œçš„æ•°ç›¸åŠ ï¼Œä»è€ŒçŸ¥é“å½“å‰"è¡Œ"å…±æœ‰å¤šå°‘ä¸ª1ã€‚"åˆ—"åŒç†ã€‚
* ç›¸åŠ å=0ï¼šè¡¨ç¤ºå½“å‰"è¡Œ/åˆ—"æ²¡æœ‰ä¸€ä¸ª1ï¼Œä¸ç¬¦åˆé¢˜ç›®
* ç›¸åŠ å=1ï¼šè¡¨ç¤ºå½“å‰"è¡Œ/åˆ—"æ€»å…±åªæœ‰ä¸€ä¸ª1ï¼Œç¬¦åˆé¢˜ç›®
* ç›¸åŠ å>1ï¼šè¡¨ç¤ºå½“å‰"è¡Œ/åˆ—"æ€»å…±æœ‰å¤šä¸ª1ï¼Œä¸ç¬¦åˆé¢˜ç›®

![image 1](image/1852+2482.Q1step1.png)



ç‰¹æ®Šä½ç½®ï¼šå½“"è¡Œ"ç­‰äº1çš„åŒæ—¶"åˆ—"ä¹Ÿç­‰äº1

![image 2](image/1852+2482.Q1step2.png)

| `mat[i,j]` | countRow | countCol | is special position |
| ---------- | -------- | -------- | ------------------- |
| [0,0]      | 1        | 2        | No                  |
| [1,2]      | 1        | 1        | **Yes** `(res++)`   |
| [2,0]      | 1        | 2        | No                  |



## ä»£ç 

- æ—¶é—´å¤æ‚åº¦: $O(m * n)$. `row` and `col`.
- ç©ºé—´å¤æ‚åº¦: $O(m + n)$. `rowCount` has a size of m, and `colCount` has a size of n.

> å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ï¼Œéå†ä¸€éæ•°ç»„çš„åŒæ—¶éå†è¡Œå’Œåˆ—ï¼Œåœ¨ä¸€ä¸ªä¸€ä¸ªæ‰¾æ˜¯å¦æœ‰å…¶ä»–1ï¼š
>
> æ—¶é—´å¤æ‚åº¦: $O(m * n * (m + n))$, ä¼šéœ€è¦å¾ˆå¤šçš„æ—¶é—´
>
> ç©ºé—´å¤æ‚åº¦: $O(1)$.
>
> ```java
> for(int i : mat){
>   for(int j : mat){
>       // éå†å½“å‰è¡Œæ‰¾æ˜¯å¦æœ‰å…¶ä»–1
>       for(){}
>       // éå†å½“å‰åˆ—æ‰¾æ˜¯å¦æœ‰å…¶ä»–1
>       for(){}
>   }
> }
> ```

```java
public int numSpecial(int[][] mat) {
    // å®šä¹‰ä¸¤ä¸²æ•°ï¼Œç”¨æ¥è®°å½•
    int[] countRow = new int[mat.length];
    int[] countCol = new int[mat[0].length];

    for(int row = 0; row < mat.length; row++){
        for(int col = 0; col < mat[0].length; col++){
            if(mat[row][col] != 0){
                countRow[row]++;
                countCol[col]++;
            }
        }
    }

    int res = 0;
    for(int row = 0; row < countRow.length; row++){
        for(int col = 0; col < countCol.length; col++){
            if(mat[row][col] == 1 && countRow[row] == 1 && countCol[col] == 1){
                res++;
            }
        }
    }
    return res;
}
```





# 2482. è¡Œå’Œåˆ—ä¸­ä¸€å’Œé›¶çš„å·®å€¼

## é—®é¢˜

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„ `m x n` äºŒè¿›åˆ¶çŸ©é˜µ `grid` ã€‚

æˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è¿‡ç¨‹ï¼Œå®šä¹‰ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„ `m x n` å·®å€¼çŸ©é˜µ `diff` ï¼š

- ä»¤ç¬¬ `i` è¡Œä¸€çš„æ•°ç›®ä¸º `onesRowi` ã€‚
- ä»¤ç¬¬ `j` åˆ—ä¸€çš„æ•°ç›®ä¸º `onesColj` ã€‚
- ä»¤ç¬¬ `i` è¡Œé›¶çš„æ•°ç›®ä¸º `zerosRowi` ã€‚
- ä»¤ç¬¬ `j` åˆ—é›¶çš„æ•°ç›®ä¸º `zerosColj` ã€‚
- `diff[i][j] = onesRowi + onesColj - zerosRowi - zerosColj`

è¯·ä½ è¿”å›å·®å€¼çŸ©é˜µ `diff` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](https://assets.leetcode.com/uploads/2022/11/06/image-20221106171729-5.png)

```
è¾“å…¥ï¼šgrid = [[0,1,1],[1,0,1],[0,0,1]]
è¾“å‡ºï¼š[[0,0,4],[0,0,4],[-2,-2,2]]
è§£é‡Šï¼š
- diff[0][0] = onesRow0 + onesCol0 - zerosRow0 - zerosCol0 = 2 + 1 - 1 - 2 = 0 
- diff[0][1] = onesRow0 + onesCol1 - zerosRow0 - zerosCol1 = 2 + 1 - 1 - 2 = 0 
- diff[0][2] = onesRow0 + onesCol2 - zerosRow0 - zerosCol2 = 2 + 3 - 1 - 0 = 4 
- diff[1][0] = onesRow1 + onesCol0 - zerosRow1 - zerosCol0 = 2 + 1 - 1 - 2 = 0 
- diff[1][1] = onesRow1 + onesCol1 - zerosRow1 - zerosCol1 = 2 + 1 - 1 - 2 = 0 
- diff[1][2] = onesRow1 + onesCol2 - zerosRow1 - zerosCol2 = 2 + 3 - 1 - 0 = 4 
- diff[2][0] = onesRow2 + onesCol0 - zerosRow2 - zerosCol0 = 1 + 1 - 2 - 2 = -2
- diff[2][1] = onesRow2 + onesCol1 - zerosRow2 - zerosCol1 = 1 + 1 - 2 - 2 = -2
- diff[2][2] = onesRow2 + onesCol2 - zerosRow2 - zerosCol2 = 1 + 3 - 2 - 0 = 2
```

**ç¤ºä¾‹ 2ï¼š**

![img](https://assets.leetcode.com/uploads/2022/11/06/image-20221106171747-6.png)

```
è¾“å…¥ï¼šgrid = [[1,1,1],[1,1,1]]
è¾“å‡ºï¼š[[5,5,5],[5,5,5]]
è§£é‡Šï¼š
- diff[0][0] = onesRow0 + onesCol0 - zerosRow0 - zerosCol0 = 3 + 2 - 0 - 0 = 5
- diff[0][1] = onesRow0 + onesCol1 - zerosRow0 - zerosCol1 = 3 + 2 - 0 - 0 = 5
- diff[0][2] = onesRow0 + onesCol2 - zerosRow0 - zerosCol2 = 3 + 2 - 0 - 0 = 5
- diff[1][0] = onesRow1 + onesCol0 - zerosRow1 - zerosCol0 = 3 + 2 - 0 - 0 = 5
- diff[1][1] = onesRow1 + onesCol1 - zerosRow1 - zerosCol1 = 3 + 2 - 0 - 0 = 5
- diff[1][2] = onesRow1 + onesCol2 - zerosRow1 - zerosCol2 = 3 + 2 - 0 - 0 = 5
```

> é—®é¢˜é“¾æ¥: [LeetCode - 2482. è¡Œå’Œåˆ—ä¸­ä¸€å’Œé›¶çš„å·®å€¼ (ä¸­ç­‰)](https://leetcode.cn/problems/difference-between-ones-and-zeros-in-row-and-column/)
>
> ç›¸å…³æ ‡ç­¾ï¼šæ•°ç»„ çŸ©é˜µ



## æ€è·¯

é¢˜ç›®ç†è§£ï¼š`diff[i][j] = onesRowi + onesColj - zerosRowi - zerosColj` 

* `onesRow` å½“å‰"è¡Œ"1çš„æ€»ä¸ªæ•°
* `onesCol` å½“å‰"åˆ—"1çš„æ€»ä¸ªæ•°
* `zerosRow` å½“å‰"è¡Œ"0çš„æ€»ä¸ªæ•°
* `zerosCol` å½“å‰"è¡Œ"0çš„æ€»ä¸ªæ•°



## å…³é”®

å…³é”®è¯ "å½“å‰'è¡Œ/åˆ—'1çš„**æ€»ä¸ªæ•°**"ã€‚å’Œä¸Šä¸€é¢˜1582ä¸€æ ·ï¼Œå…ˆç®—å‡ºæ¯è¡Œæ¯åˆ—æ€»å…±æœ‰å‡ ä¸ª1ã€‚

![](image/1852+2482.Q2.png)

å› ä¸ºä¸€"è¡Œ"ä¸æ˜¯1å°±æ˜¯0ï¼Œæ‰€ä»¥0çš„ä¸ªæ•°å¯ä»¥ç›´æ¥å¾—å‡ºã€‚`0çš„ä¸ªæ•° = è¡Œçš„é•¿åº¦ - 1çš„ä¸ªæ•°`ã€‚"åˆ—"åŒç†ã€‚

* `zerosRow = m - onesRow`
* `zerosCol = n - onesCol`

æœ€å

```
diff[i][j] = onesRowi + onesColj - zerosRowi - zerosColj
		   = onesRowi + onesColj - (m - onesRow) - (n - onesCol)
		   = onesRowi + onesColj - m + onesRow - n + onesCol
		   = onesRowi * 2 + onesColj * 2 - m - n
```



## ä»£ç 

- æ—¶é—´å¤æ‚åº¦: $O(m * n)$. `row` and `col`.
- ç©ºé—´å¤æ‚åº¦: $O(m + n)$. `rowCount` has a size of m, and `colCount` has a size of n.

> å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ï¼Œéå†ä¸€éæ•°ç»„çš„åŒæ—¶ä¸€ä¸ªä¸€ä¸ªåŠ ä¸Šæ‰€æœ‰çš„æ•°ï¼š
>
> æ—¶é—´å¤æ‚åº¦: $O(m * n * (m + n))$, ä¼šéœ€è¦å¾ˆå¤šçš„æ—¶é—´
>
> ç©ºé—´å¤æ‚åº¦: $O(1)$.
>
> ```java
> for(int i : mat){
>      for(int j : mat){
>          // åŠ ä¸Šå½“å‰è¡Œæ‰€æœ‰çš„æ•°
>          for(){}
>          // åŠ ä¸Šå½“å‰åˆ—æ‰€æœ‰çš„æ•°
>          for(){}
>      }
> }
> ```

```java
public int[][] onesMinusZeros(int[][] grid) {
    int m = grid.length;
    int n = grid[0].length;
    int[] rowCount = new int[m];
    int[] colCount = new int[n];

    for(int i = 0; i < m; i++){
        for(int j = 0; j < n; j++){
            if(grid[i][j] == 1){
                rowCount[i]++;
                colCount[j]++;
            }
        }
    }

    int[][] res = new int[m][n];
    for(int i = 0; i < m; i++){
        for(int j = 0; j < n; j++){
            res[i][j] = rowCount[i] + colCount[j] - (m - rowCount[i]) - (n - colCount[j]);
        }
    }

    return res;
}
```