# 1716. è®¡ç®—åŠ›æ‰£é“¶è¡Œçš„é’±

# é—®é¢˜

Hercy æƒ³è¦ä¸ºè´­ä¹°ç¬¬ä¸€è¾†è½¦å­˜é’±ã€‚ä»– **æ¯å¤©** éƒ½å¾€åŠ›æ‰£é“¶è¡Œé‡Œå­˜é’±ã€‚

æœ€å¼€å§‹ï¼Œä»–åœ¨å‘¨ä¸€çš„æ—¶å€™å­˜å…¥ `1` å—é’±ã€‚ä»å‘¨äºŒåˆ°å‘¨æ—¥ï¼Œä»–æ¯å¤©éƒ½æ¯”å‰ä¸€å¤©å¤šå­˜å…¥ `1` å—é’±ã€‚åœ¨æ¥ä¸‹æ¥æ¯ä¸€ä¸ªå‘¨ä¸€ï¼Œä»–éƒ½ä¼šæ¯” **å‰ä¸€ä¸ªå‘¨ä¸€** å¤šå­˜å…¥ `1` å—é’±ã€‚

ç»™ä½  `n` ï¼Œè¯·ä½ è¿”å›åœ¨ç¬¬ `n` å¤©ç»“æŸçš„æ—¶å€™ä»–åœ¨åŠ›æ‰£é“¶è¡Œæ€»å…±å­˜äº†å¤šå°‘å—é’±ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 4
è¾“å‡ºï¼š10
è§£é‡Šï¼šç¬¬ 4 å¤©åï¼Œæ€»é¢ä¸º 1 + 2 + 3 + 4 = 10 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 10
è¾“å‡ºï¼š37
è§£é‡Šï¼šç¬¬ 10 å¤©åï¼Œæ€»é¢ä¸º (1 + 2 + 3 + 4 + 5 + 6 + 7) + (2 + 3 + 4) = 37 ã€‚æ³¨æ„åˆ°ç¬¬äºŒä¸ªæ˜ŸæœŸä¸€ï¼ŒHercy å­˜å…¥ 2 å—é’±ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šn = 20
è¾“å‡ºï¼š96
è§£é‡Šï¼šç¬¬ 20 å¤©åï¼Œæ€»é¢ä¸º (1 + 2 + 3 + 4 + 5 + 6 + 7) + (2 + 3 + 4 + 5 + 6 + 7 + 8) + (3 + 4 + 5 + 6 + 7 + 8) = 96 ã€‚
```

> é—®é¢˜é“¾æ¥: [LeetCode - 1716. è®¡ç®—åŠ›æ‰£é“¶è¡Œçš„é’± (ç®€å•)](https://leetcode.cn/problems/calculate-money-in-leetcode-bank/)
>
> ç›¸å…³æ ‡ç­¾ï¼šè´ªå¿ƒ æ•°ç»„ ç­‰å·®æ•°åˆ—

# æ€è·¯

### ç¬¬ä¸€æ­¥

å¦‚æœn=26å¤©ï¼Œä¹Ÿå°±æ˜¯ä»æ˜ŸæœŸä¸€å¼€å§‹ï¼Œ26å¤©ä¹‹åé“¶è¡Œå­˜äº†å¤šå°‘é’±ã€‚26 å¤©å¯åˆ†ä¸º3å‘¨+5å¤©ï¼š

![step1](image/1716.step1.png)

### ç¬¬äºŒæ­¥

æ— è®ºæ€»å¤©æ•°æ˜¯æ˜¯å¤šå°‘ï¼Œå®Œæ•´çš„åœ°xå‘¨çš„æ”¶ç›Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚å¦‚ï¼šn=8ï¼Œæœ‰å®Œæ•´çš„ç¬¬ä¸€å‘¨ï¼Œç¬¬ä¸€å‘¨æ€»æ•°ä¸º28ï¼›n=26ï¼Œä¹Ÿæœ‰å®Œæ•´çš„ç¬¬ä¸€å‘¨ï¼Œç¬¬ä¸€å‘¨æ€»æ•°ä¹Ÿä¸º28ã€‚

ğŸ’¡ `å®Œæ•´å‘¨çš„ç´¯è®¡æ€»å’Œ`å’Œ`æœ€åå‰©ä¸‹å¤©æ•°çš„å’Œ` = æ€»å’Œ

æ‰€ä»¥n=26æ—¶ï¼Œ`å®Œæ•´å‘¨çš„ç´¯è®¡æ€»å’Œ`å’Œ`æœ€åå‰©ä¸‹å¤©æ•°çš„å’Œ`åˆ†åˆ«ä¸ºï¼š

![step2](image/1716.step2.png)

### ç¬¬ä¸‰æ­¥

å®Œæ•´å‘¨çš„ç´¯è®¡æ€»å’Œ

```java
1st week = 1 + 2 + 3 + 4 + 5 + 6 + 7 
     	 = 28
    
2nd week = (week1) + 2 + 3 + 4 + 5 + 6 + 7 + 8 
    	 =(1 + 2 + 3 + 4 + 5 + 6 + 7) + 2 + 3 + 4 + 5 + 6 + 7 + 8 
    	 =(1 + 2 + 3 + 4 + 5 + 6 + 7) +[(1 + 2 + 3 + 4 + 5 + 6 + 7) + 7]
    	 = (1 + 2 + 3 + 4 + 5 + 6 + 7) x 2 + 7 
    	 = 28 x 2 + 7
    
3rd week = 28 x 3 + 7 + 7  +  7
              week2 ^   ^week3^
    	 = 28 x 3 + 7 x 3
    
4th week = 28 x 4 + 7 x 6
    ...
nth week = 28 x n + 7 x (ç­‰å·®æ•°åˆ—æ±‚å’Œ)
		 = 28 x n + 7 x (n * [2 * a + (m âˆ’ 1) * d] / 2)
```

ç­‰å·®æ•°åˆ—æ±‚å’Œï¼š

m * [2 * a + (m âˆ’ 1) * d] / 2

å¯ä»¥çœ‹å‡º`28 x m + 7 x (n * [2 * a + (m âˆ’ 1) * d] / 2)`æ˜¯`å®Œæ•´å‘¨çš„ç´¯è®¡æ€»å’Œ`çš„é€šç”¨å…¬å¼ã€‚

* m = å®Œæ•´å‘¨çš„ä¸ªæ•° = 26 / 7 = 3
* a = èµ·å§‹é’±æ•° = 1
* d = å·®å€¼ = 1 (æ€»æ˜¯æ¯”ä¸Šå‘¨ä¸€å¤š1å—é’±)

å›¾è¡¨è¡¨ç¤ºï¼š

![step3](image/1716.step3.png)

### ç¬¬å››æ­¥

æœ€åå‰©ä¸‹å¤©æ•°çš„å’Œï¼š4 + 5 + 6 + 7 + 8 ç»å…¸çš„ç­‰å·®æ•°åˆ—æ±‚å’Œã€‚

m * [2 * a + (m âˆ’ 1) * d] / 2

* m = å‰©ä¸‹çš„å¤©æ•° = 26 \% 7 = 5
* a = èµ·å§‹é’±æ•° = 1 + ç¬¬xå‘¨ = 1 + 4
* d = å·®å€¼ = 1 (æ€»æ˜¯æ¯”æ˜¨å¤©å¤š1å—é’±)

å›¾è¡¨è¡¨ç¤ºï¼š

![step4](image/1716.step4.png)

ğŸ’¡ `å®Œæ•´å‘¨çš„ç´¯è®¡æ€»å’Œ`å’Œ`æœ€åå‰©ä¸‹å¤©æ•°çš„å’Œ` = æ€»å’Œ

# å…³é”®

é€šè¿‡è®¡ç®—æ¯å‘¨çš„æ”¶ç›ŠåŠ ä¸Šæœ€åçš„å‡ å¤©ï¼Œå¯ä»¥ç›´æ¥ç®—å‡ºâ€œå‘¨â€çš„æ€»æ•°å’Œå‰©ä¸‹çš„â€œæ—¥â€çš„æ€»æ•°ã€‚æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½ä¸ºO(1)ã€‚

è€Œç”¨foréå†26å¤©çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸ºO(n)å’ŒO(1)ã€‚



**ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼**ï¼š

Sn=n[2a+(nâˆ’1)d]/2

- Sn = æ€»å’Œ
- n = é¡¹ç›®ä¸ªæ•° / æ•°åˆ—é•¿åº¦
- a = é¦–ä¸ªé¡¹ç›® / èµ·å§‹æ•°å­—
- d = å·®å€¼

# ä»£ç 

```java
public int totalMoney(int n) {
    	// å®Œæ•´å‘¨çš„ä¸ªæ•°
        int wholeWeeks = n / 7;
		
    	// ç®—å‡ºé™¤äº†ç¬¬ä¸€å‘¨çš„å®Œæ•´å‘¨ï¼Œå½“è¿ä¸€ä¸ªå®Œæ•´å‘¨éƒ½æ²¡æœ‰æ—¶ä¸-1ã€‚-1æ˜¯ä¸ºäº†è®¡ç®—æ–¹ä¾¿ï¼Œç¬¬ä¸€å‘¨ä¸ç®—åœ¨ç­‰å·®æ•°åˆ—é‡Œã€‚
        int followingWeeks = wholeWeeks > 0 ? wholeWeeks - 1 : 0;
    	// å¥—ç”¨å…¬å¼ 28 x m + 7 x (ç­‰å·®æ•°åˆ—æ±‚å’Œ)
        int extra7 = followingWeeks * (2 + (followingWeeks - 1)) / 2;
        int money = (28 * wholeWeeks) + extra7 * 7;
		
    	// å‰©ä¸‹çš„å¤©æ•°
        int remainDay = n % 7;
    	// å¥—ç”¨å…¬å¼ ç­‰å·®æ•°åˆ—æ±‚å’Œ
        money += remainDay * (2*(1 + wholeWeeks) + (remainDay - 1))/2;

        return money;
    }
```