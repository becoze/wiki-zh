# é€’å½’ Recursion

ðŸ’¡ **é€’å½’ï¼š**åœ¨æ–¹æ³•ä½“é‡Œé¢è‡ªå·±è°ƒç”¨è‡ªå·±ã€‚é€šå¸¸ç”¨äºŽè§£å†³ç®—æ³•é—®é¢˜ï¼Œæ¯”å¦‚ï¼šå¿«æŽ’ï¼Œå½’å¹¶æŽ’åºï¼ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ†æ²»ç®—æ³•ç­‰ã€‚

```java
public int recursion(int n){
    // ...
	recursion(n);
}
```



- `Java`**çš„é€’å½’ç‰¹æ€§**ï¼šæ¯åˆ°æ‰§è¡Œæ–¹æ³•æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆç©ºé—´ï¼Œæ¯ä¸ªæ ˆç©ºé—´éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚
- å¦‚æžœæ–¹æ³•ä¸­ä½¿ç”¨çš„æ˜¯å¼•ç”¨ç±»åž‹å˜é‡ï¼ˆå¦‚ï¼šæ•°ç»„ï¼Œå¯¹è±¡ï¼‰ï¼Œå°±ä¼šå…±äº«è¯¥å¼•ç”¨ç±»åž‹çš„æ•°æ®ã€‚ï¼ˆåŒä¸€ä¸ªåœ°å€å€¼ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå †ç©ºé—´ï¼‰
- é€’å½’å¿…é¡»å‘é€€å‡ºé€’å½’çš„æ¡ä»¶é€¼è¿‘ï¼Œå¦åˆ™å°±æ˜¯æ— é™é€’å½’ï¼Œå‡ºçŽ°æ ˆæº¢å‡º`StackOverflowError`ã€‚
- å½“ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–è€…é‡åˆ°return,å°±ä¼šè¿”å›žï¼Œéµå®ˆè°è°ƒç”¨ï¼Œå°±å°†ç»“æžœè¿”å›žç»™è°ã€‚ï¼ˆå¦‚ï¼šæ–¹æ³•å†…è°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ–¹æ³•ç»“æžœè¿”å›žç»™è°ƒç”¨å®ƒçš„æ–¹æ³•ï¼‰

## æ‰§è¡Œé¡ºåº

Case 1 - **Qï¼šä»¥ä¸‹çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ**

```java
public class Work {
	public static void main(String[] args){
		 Tools test = new Tools();
			test.recursion(4);
	}
}

class Tools {
	public void recursion(int n){
		if(n > 1) {
			recursion(n - 1);   // <--- é€’å½’
		}
		System.out.println(n);
	}
}
```

```java
1. main test.test(4);
2. 	n = 4;    // (4 > 1)
3. 	recursion(4-1);
4. 	|		n = 3;    // (3 > 2)
5.	|		recursion(3-1);
6.	|		|		n = 2;    // (2 > 1)
7.	|		|		recursion(2-1);
8.	|		|		|		n = 1;    // (1 !> 1)
9.	|		|		|		println(1);
10.	|		|	  println(2);
11.	|	  println(3);
12. println(4);

/* output: 
1 2 3 4
*/
```



Case 2 - Qï¼šä»¥ä¸‹çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ

```java
public class Work {
	public static vodi main(String[] args){
		 Tools test = new Tools();
			test.recursion(4);
	}
}

class Tools {
	public void recursion(int n){
		if(n > 1) {
			test(n - 1);   // <--- é€’å½’
		} else {
			System.out.println(n);
		}
	}
}
```

`if(n > 1) test(n); else println(n);`

```java
1. main test.test(4);
2. 	n = 4;    // (4 > 1)
3. 	recursion(4-1);
4. 	|		n = 3;    // (3 > 2)
5.	|		recursion(3-1);
6.	|		|		n = 2;    // (2 > 1)
7.	|		|		recursion(2-1);
8.	|		|		|		n = 1;    // (1 !> 1)
9.	|		|		|		println(1); // [else]

/* output: 
1
*/
```



## é˜¶ä¹˜é—®é¢˜ factorial


ðŸ”¥ 


```java
public class Work{
	public static void main(String){
		Tools myTools = new Tools();
		int result = myTools.factorial(5);
	}
}

class Tools{
	public int factorial(int n){
		if (n == 1) {
			return 1;
		} else {
			return factorial(n - 1) * n;
		}
	}
}
```

```java
n = 5 | f(5)
n = 4 | =             f(4) * 5
n = 3 | =         f(3) * 4 * 5
n = 2 | =     f(2) * 3 * 4 * 5
n = 1 | = f(1) * 2 * 3 * 4 * 5
        = 1    * 2 * 3 * 4 * 5
        = 120
```

![Untitled](image/recursion.png)
