# 数组拷贝 和 反转

[数组扩容 和 缩减](https://www.notion.so/bb722550939145db9297f0a0453e385a?pvs=21) 

<aside>
💡 数组（引用数据）不能简单的用`=`去拷贝，`=`单纯是让`arr1`指向`arr2`。
需要创建新的数组去拷贝，此时两个数组有独自的空间，互相没有关联。

</aside>

## 拷贝新数组 步骤

1. 创建新的数组`arrNew`，长度等于原数组`arr.length`。
2. 用循环遍历原数组`arr`，把每个元素的值赋予到新数组`arrNew`对应的位置。
3. 使用`arr2[i] = arr1[i];`

```java
/********** Copy **********/
int[] arr = {10, 20, 30};

int[] arrNew = new int[arr.length];       // (1)

for(int i = 0; i < arrNew.length; i++){   // (2)
	arrNew[i] = arr[i];
}
```

## 反转原数组 步骤 - 只用一个数组

> `arr[0] ↔ arr[5]
 arr[1] ↔ arr[4]
 arr[2] ↔ arr[3]`
`arr[i] ↔ arr[arr.length - 1 - i]`
> 

<aside>
💡 `arr[i] = arr[arr.length - 1 - i]`
  `-1`是因为要取下标。

</aside>

1. ⬆️找出数组反转的规律⬆️。
2. 使用循环遍历半个数组。`arr.length / 2`
3. 定义一个临时变量`temp`，保存数据。
4. 使用`arr[i] = arr[arr.length - 1 - i];`

```java
/********** Reverse **********/
int[] arr = {10, 20, 30, 40, 50, 60};

for(int i = 0; i < arr.length / 2; i++){    // (2) 循环遍历半个数组 {a, ..., b} 
	int temp = arr[i];                        // (3) 保存  t = a
	arr[i] = arr[arr.length - 1 - i];         // (4) {b, ..., b} 
	arr[arr.length - 1 - i] = temp;           // (4) {b, ..., a}
}

/*********** 优化 ***********/
int[] arr = {10, 20, 30, 40, 50, 60};

int temp = 0;
int len = arr.length;

for(int i = 0; i < len / 2; i++){
	temp = arr[i];
	arr[i] = arr[len - 1 - i];
	arr[length - 1 - i] = temp;
}
```

## 反转数组 步骤 - 用两个数组 + 双指针

1. 创建一个新数组`arrNew`，大小为`arr.length`。
2. 逆序遍历（`i`）原数组`arr`，把每个元素顺序拷贝（`j`）到新数组`arrNew`。（双指针）
3. 把原数组`arr`指向新数组`arrNew`。代表：垃圾回收原数组`arr`的数据，删除`arr`。

```java
int[] arr = {10, 20, 30, 40, 50, 60};

int len = arr.length;
int[] arrNew = new int[len];                          // (1)

for(int i = len - 1, int j = 0; i >= 0; i--, j++){    // (2)
	arrNew[j] = arr[i];   // 0  1  2  3  4  5
}                      // j -->      <-- i
arr = arrNew;                                         // (3) 垃圾回收原数组的数据，删除arr
```