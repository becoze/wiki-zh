# å¼ºåˆ¶æ•°æ®ç±»å‹è½¬æ¢ Force Convert

ğŸ“Œ ä»å¤§åˆ°å°çš„ç±»å‹è½¬æ¢ã€‚ä½†ä¼šä¸¢å¤±æ•°æ®ï¼ˆç²¾åº¦æŸå¤± å’Œ æ•°æ®æº¢å‡ºï¼‰ã€‚

## ç²¾åº¦æŸå¤± Precision lossï¼Œå¦‚ï¼š`float`to `int`ã€‚

- å°æ•°è½¬æ•´æ•°ç›´æ¥æŠ¹é™¤å°æ•°ä½ã€‚

```java
float num1 = 2.9;
int num2 = (int)num1;
// result is 2
```

## æ•°æ®æº¢å‡º Overflowï¼Œå¦‚ï¼š`int` to `float`

```java
int num1 = 2000;
byte num2 = (byte)num1;   // byte -128 ~ 127
// result -48ï¼Œå› ä¸ºäºŒè¿›åˆ¶ã€‚
```

## å…¶ä»–

**å¼ºåˆ¶è½¬æ¢ç¬¦å·åªå¯¹æœ€è¿‘çš„æ•°å€¼æœ‰æ•ˆã€‚å¦‚ï¼šè¦æ±‚æŠŠ`double`çš„è¿ç®—è½¬æ¢æˆ`int`ã€‚**

```java
int wrong   = (int)10 * 3.5 + 6 * 1.5;    // Error, 
							// åªæœ‰10è¢«å¼ºåˆ¶è½¬æ¢æˆintã€‚è®¡ç®—ç»“æœæ˜¯floatï¼Œfloatä¸èƒ½è‡ªåŠ¨è½¬æ¢æˆintã€‚
int correct = (int)(10 * 3.5 + 6 * 1.5);  // Correct
							// æŠŠæ•´ä¸ªè®¡ç®—ç»“æœå¼ºåˆ¶è½¬æ¢æˆintã€‚
```

**`char`ç±»å‹å¯ä»¥ä¿å­˜`int`çš„å¸¸é‡å€¼ã€‚ä½†ä¸èƒ½ä¿å­˜intçš„å˜é‡å€¼ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ã€‚**

```java
char num1 = 100;         // correct 
int  num2 = 100;         // correct 
char num3 = num2;        // Errorï¼Œintä¸èƒ½è‡ªåŠ¨è½¬æ¢æˆchar
char num4 = (char)num2;  // Correctï¼Œnum4è¾“å‡º'd'ã€‚ASCIIç  100 å¯¹åº”çš„å­—ç¬¦ã€‚
```

**`byteï¼Œshortï¼Œchar`åŒ…æ‹¬åŒç±»çš„ä»»æ„ä¸¤ä¸ªè¿›è¡Œè¿ç®—æ—¶ï¼Œå½“ä½œ`int`ç±»å‹å¤„ç†ã€‚**

- Correct
  
    ```java
    byte b1 = 1;
    byte b2 = b1;
    ```
    
- Error
  
    ```java
    byte  b1 = 1;
    byte  b2 = 3;
    byte  b3 = b1 + b2; // Errorï¼Œè¿›è¡Œè¿ç®—æ—¶ï¼Œb1å’Œb2å˜æˆäº† intã€‚intä¸èƒ½è½¬æ¢ä¸ºbyte
    short s4 = b1 + b2; // Errorï¼Œè¿›è¡Œè¿ç®—æ—¶ï¼Œb1å’Œb2å˜æˆäº† intã€‚intä¸èƒ½è½¬æ¢ä¸ºshort
    int   i4 = b1 + b2; // Correct
    ```