# 二进制运算 

## 原码，反码，补码

- 二进制的最高位（最左边）是符号位：0表示正数，1表示负数（口诀：0->0；1->-）
- 正数的原码，反码，补码都一样（三码合一）
- 0的反码，补码都是0
- 负数的**反码** = 它的原码符号位不变，其它位取反（0->1,1->0）
- 负数的**补码** = 它的反码 +1。
- 负数的**反码** = 它的补码 - 1。
- java没有无符号数，换言之，java中的数都是有符号的
- **在计算机运算的时候，都是以补码的方式来运算的。**
- **当我们看运算结果的时候，要看他的原码。**

## 位运算符规则

🔥 数`a` <—> 原码 <—> 反码 <—> 补码（运算）

1. 获得`a`的原码
2. （如数字为负数）根据原码，获得`a`的反码
3. 根据原码/反码，获得`a`的补码
4. 重复1~3，算出算式中所有数的补码。
5. 根据补码，进行运算，获得运算后的补码
6. 根据运算后的补码，结果是其对应的原码





## **按位与`&`**

**两位全为1，结果为1，否则为0。**

```java
1101 1100
1000 0110
---------
1000 0100
```

`2 & 3 = ?` “2 按位与 3”

```java
System.out.println(2 & 3);
// 2 的原码       00000000 00000000 00000000 00000010
// 3 的原码       00000000 00000000 00000000 00000011

// 2 的补码       00000000 00000000 00000000 00000010 (正数三码合一)
// 3 的补码       00000000 00000000 00000000 00000011 (正数三码合一)
// 2&3 运算的补码 00000000 00000000 00000000 00000010 
// 2&3 运算的原码 00000000 00000000 00000000 00000010 (正数三码合一)
// 结果 = 2
```



## **按位或`|`**

**两位只要有一个为1，结果为1，否则为0。**

220 | 134 = 222

```java
1101 1100
1000 0110
---------
1101 1110
```



## 按位异或`^`

两位一个为0同时一个为1，结果为1，否则为0。

220 ^ 134 = 90

```java
1101 1100
1000 0110
---------
0101 1010
```



## 按位取反`~`：0->1，1->0

~220 = 35

```java
1101 1100
0010 0011
```

`~-2 = 1`

```java
System.out.println(~-2);
// -2 的原码      10000000 00000000 00000000 00000010
// -2 的反码      11111111 11111111 11111111 11111101 （负数）
// -2 的补码      11111111 11111111 11111111 11111110 （负数的补码 = 反码+1）
// ~-2 运算的补码 00000000 00000000 00000000 00000001
// ~-2 运算的原码 00000000 00000000 00000000 00000001  (正数三码合一)
// 结果 = 1
```

`~2 = -3`

```java
System.out.println(~2);
// 2  的原码     00000000 00000000 00000000 00000010
// 2  的补码     00000000 00000000 00000000 00000010 (正数三码合一)
// ~2 运算的补码 11111111 11111111 11111111 11111101（负数）
// ~2 运算的反码 11111111 11111111 11111111 11111100（负数的反码 = 补码+1）
// ~2 运算的原码 10000000 00000000 00000000 00000011 
// 结果 = -3
```